"use strict";(self.webpackChunkquicksearch_ext_sider=self.webpackChunkquicksearch_ext_sider||[]).push([[97],{3911:(n,e,t)=>{t.d(e,{A:()=>i});var a=t(1601),o=t.n(a),s=t(6314),r=t.n(s)()(o());r.push([n.id,".paymentModal,\n.paymentModalDark {\n  display: block;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: rgba(99, 99, 99, 0.1) 0px 2px 8px 0px;\n  border-radius: 6px;\n  transition: background-color 0.3s, box-shadow 0.3s, transform 0.3s;\n  transition: color 0.3s;\n  width: 250px;\n  animation: paymentModalSideIn 0.6s ease-in-out;\n  z-index: 9999;\n  padding: 20px;\n}\n.paymentModal {\n  background-color: white;\n  color: black;\n}\n.paymentModalDark {\n  background-color: rgb(168, 164, 164);\n  color: white;\n}\n.paymentModalContent {\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  gap: 20px;\n}\n.paymentModalHeading {\n  display: flex;\n  font-family: Poppins;\n  font-size: 14px;\n  /* text-align: justify; */\n  color: black;\n}\n.paymentModalBtn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(180deg, #00ccff 0%, #034aa6 100%);\n  transition: transform 0.3s ease;\n  gap: 5px;\n  color: white;\n  font-size: 12px;\n  font-weight: 500;\n  border: none;\n  border-radius: 8px;\n  padding: 10px;\n  cursor: pointer;\n}\n.paymentIcon {\n  width: 40px;\n  height: 40px;\n}\n.paymentBtnArrow {\n  width: 20px;\n  height: 20px;\n}\n.paymentModalClose,\n.paymentModalCloseDark {\n  display: block;\n  position: absolute;\n  top: -30px;\n  right: 10px;\n  font-family: Poppins;\n  font-size: 15px;\n  font-weight: 500;\n  line-height: 14.65px;\n  letter-spacing: -0.02em;\n  text-align: left;\n  text-underline-position: from-font;\n  text-decoration-skip-ink: none;\n  color: blue;\n  cursor: pointer;\n  padding: 10px;\n  border-radius: 50%;\n}\n.paymentModalClose {\n  background-color: white;\n}\n.paymentModalCloseDark {\n  background-color: rgb(168, 164, 164);\n}\n\n@keyframes paymentModalSideIn {\n  0% {\n    transform: translate(-50%, 50%);\n    opacity: 0;\n  }\n  100% {\n    transform: translate(-50%, -50%);\n    opacity: 1;\n  }\n}\n",""]);const i=r},6097:(n,e,t)=>{t.r(e),t.d(e,{default:()=>C});var a=t(4848),o=t(6540),s=t(5072),r=t.n(s),i=t(7825),l=t.n(i),c=t(7659),d=t.n(c),p=t(5056),u=t.n(p),m=t(540),y=t.n(m),f=t(1113),g=t.n(f),h=t(3911),x={};x.styleTagTransform=g(),x.setAttributes=u(),x.insert=d().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=y(),r()(h.A,x),h.A&&h.A.locals&&h.A.locals;var b=t(2665),k=t(1468),w=t(3160),v=t(9115),M=function(n,e,t,a){return new(t||(t=Promise))((function(o,s){function r(n){try{l(a.next(n))}catch(n){s(n)}}function i(n){try{l(a.throw(n))}catch(n){s(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,i)}l((a=a.apply(n,e||[])).next())}))};function C(){const[n,e]=(0,o.useState)({message:"",type:""}),{paymentModalInfo:t}=(0,k.d4)((n=>n.reusable)),s=(0,k.d4)((n=>n.encryptionToken)),r=(0,k.d4)((n=>n.userStatus)),{isDarkMode:i}=(0,k.d4)((n=>n.theme)),{createNotification:l}=(0,b.h)(),c=(0,k.wA)();return(0,o.useEffect)((()=>{var e,t;n.message&&(e=n.message,t=n.type,l({message:e,duration:5e3,background:"success"===t?"green":"warn"===t?"#4eabbc":"red",color:"#fff"}),n.type)}),[n]),(0,o.useEffect)((()=>{c((0,v.Bb)())}),[c]),(0,a.jsx)("div",{className:i?"paymentModalDark":"paymentModal",children:(0,a.jsxs)("div",{className:"paymentModalContent",children:[(0,a.jsx)("span",{onClick:()=>c((0,w.Kb)(!1)),className:i?"paymentModalCloseDark":"paymentModalClose",children:"X"}),(0,a.jsx)("span",{className:"paymentModalHeading",children:t||"You must subscribe before using this service"}),(0,a.jsxs)("button",{onClick:()=>M(this,void 0,void 0,(function*(){let n;try{n=s.token}catch(n){return void e({message:"Failed to get payment token. Please try again later.",type:"error"})}const t=`http://localhost:3000/apidashboard?page=setting&t=pay&from=extension&token=${encodeURIComponent(n||"")}`,a=window.screen.width/2-500,o=window.screen.height/2-400,i=window.open(t,"Payment",`width=1000,height=800,top=${o},left=${a}`);if(!i)return void e({message:"Please allow popups for this extension to proceed with payment.",type:"warn"});const l=setInterval((()=>{i.closed&&(clearInterval(l),function(){M(this,void 0,void 0,(function*(){let n;try{n=r.status,console.log(n)}catch(n){return void e({message:"Unable to fetch user status. Please try again later.",type:"error"})}const t=(yield chrome.storage.local.get("auth")).auth||{token:null,refreshToken:null,tokenExpires:null,user:null},a=Object.assign(Object.assign({},t),{user:JSON.stringify(n)});yield chrome.storage.local.set({auth:a}),c((0,w.Kb)(!1)),n&&n.isSubscribed?e({message:"Your subscription has been activated",type:"success"}):e({message:"Payment failed, please try again",type:"error"})}))}())}),1)})),className:"paymentModalBtn",children:["Upgrade"," ",(0,a.jsx)("img",{src:"images/arrowRight.svg",alt:"arrow",className:"paymentBtnArrow"})]})]})})}}}]);