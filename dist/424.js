"use strict";(self.webpackChunkquicksearch_ext_sider=self.webpackChunkquicksearch_ext_sider||[]).push([[424],{8424:(n,e,a)=>{a.r(e),a.d(e,{default:()=>A});var t=a(4848),r=a(6540),i=a(5072),o=a.n(i),s=a(7825),c=a.n(s),l=a(7659),d=a.n(l),u=a(5056),h=a.n(u),f=a(540),v=a.n(f),g=a(1113),x=a.n(g),p=a(9099),m={};m.styleTagTransform=x(),m.setAttributes=h(),m.insert=d().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=v(),o()(p.A,m),p.A&&p.A.locals&&p.A.locals;var w=a(1468),b=a(4534),k=a(5066),y=a(550),j=a(1351),N=a(5867),S=a(9197),T=a(6537);const R=["Arabic","Basque","Bengali","Bulgarian","Dutch","English","Estonian","Finnish","French","German","Hausa","Hebrew","Hindi","Hungarian","Igbo","Italian","Kazakh","Kannada","Khmer","Malay","Malayalam","Māori","Mandarin Chinese","Persian","Polish","Portuguese","Russian","Spanish","Swahili","Swedish","Tagalog","Tamil","Telugu","Turkish","Ukrainian","Urdu","Vietnamese","Yoruba","Zulu"],E={Arabic:"ar-SA",Basque:"eu-ES",Bengali:"bn-BD",Bulgarian:"bg-BG",Dutch:"nl-NL",English:"en-US",Estonian:"et-EE",Finnish:"fi-FI",French:"fr-FR",German:"de-DE",Hausa:"ha-NG",Hebrew:"he-IL",Hindi:"hi-IN",Hungarian:"hu-HU",Igbo:"ig-NG",Italian:"it-IT",Kazakh:"kk-KZ",Kannada:"kn-IN",Khmer:"km-KH",Malay:"ms-MY",Malayalam:"ml-IN",Māori:"mi-NZ","Mandarin Chinese":"zh-CN",Persian:"fa-IR",Polish:"pl-PL",Portuguese:"pt-PT",Russian:"ru-RU",Spanish:"es-ES",Swahili:"sw-KE",Swedish:"sv-SE",Tagalog:"tl-PH",Tamil:"ta-IN",Telugu:"te-IN",Turkish:"tr-TR",Ukrainian:"uk-UA",Urdu:"ur-PK",Vietnamese:"vi-VN",Yoruba:"yo-NG",Zulu:"zu-ZA"};var P=function(n,e,a,t){return new(a||(a=Promise))((function(r,i){function o(n){try{c(t.next(n))}catch(n){i(n)}}function s(n){try{c(t.throw(n))}catch(n){i(n)}}function c(n){var e;n.done?r(n.value):(e=n.value,e instanceof a?e:new a((function(n){n(e)}))).then(o,s)}c((t=t.apply(n,e||[])).next())}))};function I(){const[n,e]=(0,r.useState)(0),a=(0,w.d4)((n=>n.theme.isDarkMode)),{query:i}=(0,w.d4)((n=>n.translate)),[o,s]=(0,r.useState)(""),[c,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),h=(0,r.useRef)(null),f=(0,r.useRef)(null),v=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e(i.length)}),[i]),(0,t.jsxs)("div",{className:"translate-container",children:[(0,t.jsx)("h2",{children:"Translate"}),(0,t.jsxs)("div",{className:"container-cover",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("select",{ref:h,defaultValue:R[5],className:`select-area ${a&&"dark"}`,children:R.map(((n,e)=>(0,t.jsx)("option",{value:n,children:n},e)))})}),(0,t.jsxs)("div",{className:`textarea-cover ${a&&"dark"}`,children:[(0,t.jsx)("textarea",{ref:v,defaultValue:i,onChange:({target:n})=>e(n.value.length),className:`textarea remove-scrollbar ${a&&"dark"}`}),(0,t.jsxs)("div",{className:"actions",children:[(0,t.jsx)("p",{children:`${n} / 10000`}),(0,t.jsxs)("button",{disabled:n>1e4||0===n||c,onClick:()=>P(this,void 0,void 0,(function*(){var n,e,a,t,r,i;const{token:o}=yield(0,T.jK)();if(l(!0),s(""),h.current&&f.current){if(console.log(null===(n=h.current)||void 0===n?void 0:n.value," ",null===(e=f.current)||void 0===e?void 0:e.value),(null===(a=h.current)||void 0===a?void 0:a.value)===(null===(t=f.current)||void 0===t?void 0:t.value))return y.oR.error("⚠ Select a different target language for translation."),void l(!1);try{const n=yield fetch("https://quicksearchserver-8ee1999baeab.herokuapp.com/api/gpts/translate",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({text:null===(r=v.current)||void 0===r?void 0:r.value,targetLanguage:null===(i=f.current)||void 0===i?void 0:i.value})});if(l(!1),!n.ok){const e=yield n.json().catch((()=>null)),a=(null==e?void 0:e.message)||"Something went wrong. Please try again later.";throw new Error(a)}if(!n.body)throw new Error("Stream response body is null.");const e=n.body.getReader(),a=new TextDecoder("utf-8");let t="";for(;;){const{value:n,done:r}=yield e.read();if(r)break;const i=a.decode(n,{stream:!0});t+=i,s((n=>n+i))}s(t)}catch(n){l(!1),y.oR.error("Something went wrong. Please try again later.")}}else l(!1),y.oR.error("Something went wrong. Please try again later.")})),children:[n<1e4&&0!==n&&!c&&(0,t.jsx)("img",{src:"images/translate-white.svg",alt:"Translate Logo",className:"img-area"}),(0,t.jsx)("p",{children:"Translate"})]})]})]})]}),(0,t.jsx)("div",{className:"swap",children:(0,t.jsx)(k.o5q,{onClick:function(){var n;if(h.current&&f.current){const e=null===(n=h.current)||void 0===n?void 0:n.value;h.current.value=f.current.value,f.current.value=e}},className:"swap-icon"})}),(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("select",{ref:f,defaultValue:R[5],className:`select-area ${a&&"dark"}`,children:R.map(((n,e)=>(0,t.jsx)("option",{value:n,children:n},e)))})}),(0,t.jsxs)("div",{className:`textarea-cover ${a&&"dark"}`,children:[(0,t.jsx)("textarea",{value:o,disabled:!0,className:`response remove-scrollbar ${a&&"dark"}`}),o&&(0,t.jsxs)("div",{className:"res-actions",children:[(0,t.jsx)(j.iyF,{onClick:()=>{navigator.clipboard.writeText(o),y.oR.success("Text copied")},color:"#38507e",className:"res-actions-icon"}),d?(0,t.jsx)(j.$8F,{onClick:()=>{window.speechSynthesis.cancel(),u(!1)},color:"red",className:"res-actions-icon"}):(0,t.jsx)(N.IM0,{color:"#38507e",onClick:function(){const n=new SpeechSynthesisUtterance(o);n.lang=E[f.current.value]||"en-US",n.onstart=()=>u(!0),n.onend=()=>u(!1),window.speechSynthesis.speak(n),u(!0)},className:"res-actions-icon"}),(0,t.jsx)(S.WCW,{onClick:()=>P(this,void 0,void 0,(function*(){const n=new Blob([o],{type:"text/plain"}),e=URL.createObjectURL(n),a=document.createElement("a");a.href=e,a.download="QS-translated.txt",a.click(),URL.revokeObjectURL(e)})),color:"#38507e",className:"res-actions-icon"})]})]})]})]})]})}const A=()=>{const n=(0,w.wA)();return(0,r.useEffect)((()=>{n((0,b.S)())}),[]),(0,t.jsx)(I,{})}},9099:(n,e,a)=>{a.d(e,{A:()=>s});var t=a(1601),r=a.n(t),i=a(6314),o=a.n(i)()(r());o.push([n.id,".translate-container {\n    padding-left: 8px;\n    padding-right: 8px;\n    width: 100%;\n    animation: translate-slide-in 0.6s ease-in-out;\n}\n\n.translate-container .container-cover {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    max-width: 100%;\n}\n\n.container-cover .header {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    max-width: 100%;\n}\n\n.w-full {\n    width: 100%;\n}\n\n.select-area {\n    width: 100%;\n    padding: 8px;\n    border-radius: 8px;\n    outline: none;\n    border: 0;\n    background-color: #f5f5f5;\n}\n\n.select-area.dark {\n    background-color: #222121;\n    color: white;\n}\n\n.textarea-cover {\n    max-width: 100%;\n    height: 28vh;\n    border-radius: 8px;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    background-color: #f5f5f5;\n}\n\n.textarea-cover.dark {\n    background-color: #222121;\n}\n\n.textarea {\n    outline: none;\n    border: 0;\n    background-color: inherit;\n    width: 99%;\n    height: 79%;\n    color: black;\n    resize: none;\n}\n\n.textarea.dark {\n    color: white;\n}\n\n.textarea-cover .actions {\n    display: flex;\n    justify-content: space-between;\n}\n\n.textarea-cover .actions button {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    border-radius: 8px;\n    border: 0;\n    color: white;\n    cursor: pointer;\n    background: linear-gradient(to bottom, #00ccff, #034aa6);\n}\n\n.textarea-cover .actions button:hover {\n    background: linear-gradient(to bottom, #034aa6, #00ccff);\n}\n\n.textarea-cover .actions button:disabled {\n    background: linear-gradient(to bottom, #ffffff, #ffffff);\n    color: black;\n    cursor: not-allowed;\n}\n\n.textarea-cover .actions button:disabled:hover {\n    background: linear-gradient(to bottom, #ffffff, #ffffff);\n}\n\n.img-area {\n    width: 18px;\n    height: 18px;\n}\n\n.swap {\n    display: flex;\n    justify-content: center;\n}\n\n.swap-icon {\n    cursor: pointer;\n    font-size: 5vw;\n}\n\n.textarea-cover .response {\n    outline: none;\n    border: 0;\n    background-color: inherit;\n    width: 99%;\n    height: 82%;\n    color: black;\n    resize: none;\n}\n\n.textarea-cover .response.dark {\n    color: white;\n}\n\n.textarea-cover .res-actions {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n    height: 22%;\n}\n\n.res-actions-icon {\n    cursor: pointer;\n    font-size: 3vw;\n}\n\n@media (min-width: 640px){\n    .swap-icon {\n        font-size: 4vw;\n    }\n}\n\n@media (min-width: 768px) {\n    .textarea-cover .res-actions {\n        height: 15%;\n    }\n\n    .translate-container .container-cover {\n        flex-direction: row;\n        justify-content: space-between;\n    }\n\n    .container-cover .header {\n        flex: 1;\n    }\n\n    .textarea-cover {\n        height: 53vh;\n    }\n\n    .textarea {\n        height: 87%;\n    }\n\n    .swap {\n        justify-content: start;\n        align-items: center;\n        height: 4vh;\n    }\n\n    .swap-icon {\n        font-size: 3vw;\n    }\n\n    .textarea-cover .response {\n        height: 87%;\n    }\n\n    .res-actions-icon {\n        font-size: 2vw;\n    }\n}\n\n@media (min-width: 1280px){\n    .swap-icon {\n        font-size: .5vw;\n    }\n}\n\n@keyframes translate-slide-in {\n    0% {\n        transform: translateX(-50%);\n        opacity: 1;\n    }\n\n    100% {\n        transform: translateX(0);\n        opacity: 1;\n    }\n}",""]);const s=o}}]);